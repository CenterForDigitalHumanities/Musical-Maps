<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/main.css">
    <script src="js/main.js" type="module"></script>
    <script src="js/layout.js"></script>
    <title>Enter a Person - Musical Maps of the World</title>
</head>

<body is="mm-content">
    <div class="container" slot="content">
        <h3>
            Describe the Person
        </h3>
        <p>
            Use this form to add a new person to the musical maps.
            A proper person has an impact on music and occupies an authority file entry.
            Evidence for these
            assertions should be included with every entry.
        </p>
        <p class="text-info">
            NB: As a sandbox prototype, all annotations will be created with
            the same authentication and is subject to revision.
        </p>
        <form deer-type="Person" deer-context="http://schema.org" hash-id>
            <input deer-key="creator" value="mm-prototype" type="hidden">
            <input deer-key="targetCollection" value="Musical Map People" type="hidden">

            <div class="row">
                <div class="form-group col-md-6">
                    <label for="name">Name</label>
                    <input type="text" name="name" deer-key="name" class="form-control" placeholder="Enter a label/displayname for this Person">
                    <small class="form-text text-muted">This name is for internal display</small>
                </div>

                <div class="form-group col-md-6">
                    <label for="auth-record">Authority Record</label>
                    <input type="url" class="form-control" deer-key="uri" name="auth-record" id="authorityFile" placeholder="URI for this person">
                    <small class="form-text text-muted">TODO: autoload names from resolved link</small>
                </div>
            </div>
            <div class="row">
                <deer-view deer-template="authorityDetails" id="authorityDetails"></deer-view>
            </div>
            <div class="row">
                <div class="form-group col-md-6">
                    
                </div>

                <div class="form-group col-md-6">

                </div>
            </div>

            <div class="row">
                <div class="form-group col-md-6">
                    <label for="occupation">Primary Occupation</label>
                    <div class="input-group">
                        <select name="occupation" multiple id="occupation" class="form-control" deer-key="occupation">
                            <option value="~piano">Instrumentalist (piano)</option>
                            <option value="~pedagogue">Pedagogue</option>
                            <option value="~cobbler">Cobbler</option>
                        </select>
                        <span class="input-group-text" id="basic-addon1" title="Only predefined Occupations are available">â„¹</span>                        
                    </div>   
                </div>
                <div class="form-group col-md-6">
                    <label for="additionalOccupation">Secondary Occupation</label>
                    <div class="input-group">
                        <select name="additionalOccupation" multiple id="additionalOccupation" class="form-control" deer-key="additionalOccupation">
                            <option value="~piano">Instrumentalist (piano)</option>
                            <option value="~pedagogue">Pedagogue</option>
                            <option value="~cobbler">Cobbler</option>
                        </select>
                        <span class="input-group-text" id="basic-addon1" title="Only predefined Occupations are available">â„¹</span>                        
                    </div>   
                </div>
            </div>
            <div class="row">
                <div class="form-group col-md-6">
                    <label for="vocalRange">Vocal Range</label>
                    <select name="vocalRange" multiple id="vocalRange" class="form-control" deer-key="vocalRange">
                        <option value="~bass">bass</option>
                        <option value="~baritone">baritone</option>
                        <option value="~tenor">tenor</option>
                        <option value="~alto">alto</option>
                        <option value="~mezzo-soprano">mezzo-soprano</option>
                        <option value="~soprano">soprano</option>
                    </select>                </div>   
                <div class="form-group col-md-6">

                </div>   
            </div>

            <button type="submit" class="btn btn-primary">Create Person ðŸ‘¤</button>
        </form>
    </div>
    <script>
        addEventListener('deer-form-rendered',ev=> authorityDetails.setAttribute('deer-id',authorityFile.value+'.json'))
    </script>
</body>

</html>
