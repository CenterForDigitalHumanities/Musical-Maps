<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/main.css">
    <script src="js/main.js" type="module"></script>
    <script src="js/layout.js"></script>
    <title>Enter a Person - Musical Maps of the World</title>
</head>

<body is="mm-content">
    <div class="container" slot="content">
        <h3>
            Describe the Person
        </h3>
        <p>
            Use this form to add a new person to the musical maps.
            A proper person has an impact on music and occupies an authority file entry.
            Evidence for these
            assertions should be included with every entry.
        </p>
        <p class="text-info">
            NB: As a sandbox prototype, all annotations will be created with
            the same authentication and is subject to revision.
        </p>
        <form deer-type="Person" deer-context="http://schema.org" hash-id>
            <input deer-key="creator" value="mm-prototype" type="hidden">
            <input deer-key="targetCollection" value="Musical Map People" type="hidden">

            <div class="row">
                <div class="form-group col-md-6">
                    <label for="name">Name</label>
                    <input type="text" id="mmLabel" name="name" deer-key="name" class="form-control"
                        placeholder="Enter a label/displayname for this Person">
                    <small class="form-text text-muted">This name is for internal display</small>
                </div>

                <div class="form-group col-md-6">
                    <label for="auth-record">LOC Name Record</label>
                    <input type="url" class="form-control" deer-key="uri" name="auth-record" id="authorityFile"
                        placeholder="https://id.loc.gov/authorities/names/n########">
                    <small class="form-text text-muted">URI from <a id="locLink" target="_blank"
                            href="https://id.loc.gov/authorities/names.html">LOC Name Authority</a>
                </div>
            </div>
            <!-- <div class="row">
                <deer-view deer-template="authorityDetails" id="authorityDetails"></deer-view>
            </div> -->
            <div class="row">
                <div class="form-group col-md-6">

                </div>

                <div class="form-group col-md-6">

                </div>
            </div>

            <div class="row">
                <div class="form-group col-md-6">
                    <label for="occupation">Primary Occupation</label>
                    <select name="occupation" multiple id="occupation" class="form-control" deer-key="occupation">
                        <option value="~composer">composer</option>
                        <option value="~arranger">arranger</option>
                        <option value="~performer">performer</option>
                        <option value="~instrumentalist">instrumentalist</option>
                        <option value="~vocalist">vocalist</option>
                        <option value="~conductor">conductor</option>
                        <option value="~performance ensemble">performance ensemble</option>
                        <option value="~theorist">theorist</option>
                        <option value="~historian">historian</option>
                        <option value="~pedagogue">Pedagogue</option>
                        <option value="~musical collaborator">musical collaborator</option>
                        <option value="~instrument maker">instrument maker</option>
                    </select>
                    <small class="form-text text-muted">Hold <kbd>CTRL</kbd> to select several options</small>
                </div>
                <div class="form-group col-md-6">
                    <label for="additionalOccupation">Secondary Occupation</label>
                    <select name="additionalOccupation" multiple id="additionalOccupation" class="form-control"
                        deer-key="additionalOccupation">
                        <option value="~composer">composer</option>
                        <option value="~arranger">arranger</option>
                        <option value="~performer">performer</option>
                        <option value="~instrumentalist">instrumentalist</option>
                        <option value="~vocalist">vocalist</option>
                        <option value="~conductor">conductor</option>
                        <option value="~performance ensemble">performance ensemble</option>
                        <option value="~theorist">theorist</option>
                        <option value="~historian">historian</option>
                        <option value="~pedagogue">pedagogue</option>
                        <option value="~musical collaborator">musical collaborator</option>
                        <option value="~instrument maker">instrument maker</option>
                    </select>
                    <small class="form-text text-muted">Hold <kbd>CTRL</kbd> to select several options</small>
                </div>
            </div>
            <div class="row">
                <div class="form-group col-md-6">
                    <label for="vocalRange">Vocal Range</label>
                    <select name="vocalRange" multiple id="vocalRange" class="form-control" deer-key="vocalRange">
                        <option value="~bass">bass</option>
                        <option value="~baritone">baritone</option>
                        <option value="~tenor">tenor</option>
                        <option value="~alto">alto</option>
                        <option value="~mezzo-soprano">mezzo-soprano</option>
                        <option value="~soprano">soprano</option>
                    </select>
                </div>
                <div class="form-group col-md-6">
                    <p>// TODO: musical collaborator types</p>
                    <p>// TODO: instruments</p>
                    <p>// TODO: other ensemble members</p>
                </div>
            </div>
            
            <button type="submit" class="btn btn-primary">Create Person ðŸ‘¤</button>
        </form>
        <h4>Life Events</h4>
        <div class="row">
            <div class="form-group col">
                <button class="btn btn-secondary col" disabled="disabled">Birth</button>
            </div>
            <div class="form-group col">
                <button class="btn btn-secondary col" disabled="disabled">Death</button>
            </div>
            <div class="form-group col">
                <button class="btn btn-secondary col" disabled="disabled">Performance</button>
            </div>
            <div class="form-group col">
                <button class="btn btn-secondary col" disabled="disabled">Appearance</button>
            </div>
            <div class="form-group col">
                <button class="btn btn-secondary col" disabled="disabled">Visit</button>
            </div>
        </div>
        <h4>Residencies</h4>
        <div class="row">
            <div class="form-group col">
                <button class="btn btn-secondary col" disabled="disabled">Lived at</button>
            </div>
            <div class="form-group col">
                <button class="btn btn-secondary col" disabled="disabled">Studied at</button>
            </div>
            <div class="form-group col">
                <button class="btn btn-secondary col" disabled="disabled">Worked at</button>
            </div>
        </div>
        <div class="row">
            <div class="form-group col-md-4">
                <h4>Students</h4>
                <button class="btn btn-secondary col" disabled="disabled">Add a student</button>
            </div>
            <div class="form-group col-md-4">
                <h4>Teachers</h4>
                <button class="btn btn-secondary col" disabled="disabled">Add a teacher</button>
            </div>
            <div class="form-group col-md-4">
                <h4>Pedagogues</h4>
                <button class="btn btn-secondary col" disabled="disabled">Add a pedagogue</button>
            </div>
        </div>
    </div>
    <script>
        addEventListener('deer-form-rendered', ev => locLink.setAttribute('href', `https://id.loc.gov/search/?q=${mmLabel.value.trim().replace(/\s/g, "+")}&q=cs:http://id.loc.gov/authorities/names`))
    </script>
</body>

</html>
